package com.adotaPet.api.service;

import java.util.Arrays;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.adotaPet.api.domain.Animal;
import com.adotaPet.api.domain.Doenca;
import com.adotaPet.api.domain.Ong;
import com.adotaPet.api.domain.Raca;
import com.adotaPet.api.repository.AnimalRepository;
import com.adotaPet.api.repository.DoencaRepository;
import com.adotaPet.api.repository.OngRepository;
import com.adotaPet.api.repository.RacaRepository;

@Service
public class DBService {
	
	@Autowired
	private OngRepository ongRepository;
	@Autowired
	private RacaRepository racaRepository;
	@Autowired
	private DoencaRepository doencaRepository;
	@Autowired
	private AnimalRepository animalRepository;
	@Autowired
	private OngService ongService;
	@Autowired
	private DoencaService doencaService;
	@Autowired
	private RacaService racaService;
	
	
	public void instanciateTestDataBase() {
		Ong ong1 = new Ong(null, 10,"Ong Cocal", "Cocal LTDA","62.769.648/0001-84",
				"Avenida Brasil",500,"Centro");
		Ong ong2 = new Ong(null, 10,"Ong pata branca", "Pata branca LTDA","98.013.581/0001-09",
				"Avenida 7 de setembro",21,"Vila nova");
				
		ongRepository.saveAll(Arrays.asList(ong1,ong2));
		
		Ong ong10 =  ongService.find(1);
		Ong ong11 =  ongService.find(2);
		Raca raca1 = new Raca(null,1,"Pastor Alemão",ong10);
		Raca raca2 = new Raca(null,4,"Buldogue",ong10);
		Raca raca3 = new Raca(null,12,"Chihuahua",ong10);
		Raca raca4 = new Raca(null,20,"Dalmata",ong11);
		Raca raca5 = new Raca(null,22,"Pinscher",ong11);
		
		racaRepository.saveAll(Arrays.asList(raca1,raca2,raca3,raca4,raca5));
		
		Doenca doenca1 = new Doenca(null,1,"Alergia alimentar",ong10);
		Doenca doenca2 = new Doenca(null,2,"Depressão",ong10);
		Doenca doenca3 = new Doenca(null,3,"Erlichiose",ong10);
		Doenca doenca4 = new Doenca(null,4,"Insuficiência renal",ong11);
		Doenca doenca5 = new Doenca(null,5,"Obesidade",ong11);
		Doenca doenca6 = new Doenca(null,6,"Otite",ong11);
		
		doencaRepository.saveAll(Arrays.asList(doenca1,doenca2,doenca3,doenca4,doenca5,doenca6));
		
		Doenca doenca10 = doencaService.find(1);
		Doenca d = new Doenca();
		Ong o = new Ong();
		Raca r = new Raca();
		Raca raca10 = racaService.find(1);
		//Animal animal1 = new Animal(null, 5, "Belinha", 1, 'P', 'S', 'N', 'S', ong10, doenca10, raca10);
		Animal animal1 = new Animal(null, 5, "Belinha", 1, 'P', 'S', 'N', 'S', ong10, doenca10, r);
		try {
		animalRepository.saveAll(Arrays.asList(animal1));
		}catch (Exception e) {
			System.out.println(e.getMessage()+"teste");
		}
	}

}
